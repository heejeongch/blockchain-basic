# 🚀 Optimistic Rollup vs zk-Rollup

## 🌍 Rollup이란?
> - Rollup은 이더리움의 Layer2 확장 솔루션으로, 트랜잭션을 Layer2에서 처리하고 최종 결과만 Layer1(이더리움 메인넷)에 기록하는 방식이다
> - 핵심 목표는 **트랜잭션 속도 향상**, **가스비 절감**, **이더리움의 보안성 유지**이다.

## 📊 Optimistic Rollup vs zk-Rollup 비교
|                 | Optimistic Rollup            | zk-Rollup                              |
|-----------------|------------------------------|----------------------------------------|
| 검증 방식           | 트랜잭션이 정상이라고 가정               | 트랜잭션을 암호화적으로 증명 (Zero-Knowldege Proof) |
| 속도              | 빠름(증명 없이 바로 트랜잭션 처리)         | 매우 빠름(즉시 확정)                           |
| 보안성             | 부정행위 발생 시 Fraud Proof(사기 증명) | 수학적 증명으로 완벽한 보안성                       |
| 최종 확정(Finality) | 1~2주(챌린지 기간)                 | 즉시 확정                                  |
| 컴퓨팅 비용          | 낮음                           | 높음(SNARKs/STARKs 생성에 많은 연산 필요)         |
| 유연성             | EVM과 호환성 높음                  | EVM 호환성 제한적                            |
| 트랜잭션 비용         | 저렴                           | 매우 저렴                                  |
| 장점              | 개발자 친화적, EVM 완벽 호환           | 높은 보안성, 즉각적인 상태 확인                     |
| 단점              | 챌린지 기간으로 인해 자금 이동 지연         | SNARK/STARK 생성 비용이 큼                   |
| 사용 사례           | Arbitrum, Optimism           | zkSync, StarkNet, Polygon zkEVM        |

## 🔎 Optimistic Rollup - 낙관적 롤업
### 1. 작동 방식
- 트랜잭션이 정상이라고 가정하고, Layer2에서 바로 처리
- Layer2에서 트랜잭션을 Batch로 묶어 Layer1에 기록
- Fraud Proof(사기 증명)을 통해 사기 행위가 발견되면 트랜잭션을 무효화하고 롤백

### 2. 챌린지 기간
- 1~2주 동안 트랜잭션에 이의제기 가능
- 부정행위가 발견되지 않으면 트랜잭션이 확정

### 3. 장점
- EVM 호환성 매우 높음 -> 기존 DApp을 쉽게 이전 가능
- 트랜잭션 처리 비용 저렴 (컴퓨팅 비용 낮음)
- 기술 구현이 간단해 빠르게 배포 가능

### 4. 단점
- 챌린지 기간으로 인해 출금 느림(최대 2주)
- 부정행위가 발생할 경우, Rollup의 신뢰성에 의존해야함

### 5. 사용 사례
- Optimism : 가장 대표적인 Optimistic Rollup 프로젝트
- Arbitrum : EVM 호환성이 뛰어나며, 많은 DApp이 Arbitrum에서 운영됨

## 🧩 zk Rollup - 영지식 증명 롤업
### 1. 작동 방식
- 모든 트랜잭션을 암호학적 증명(zk-SNARK/STARK)으로 검증
- 트랜잭션을 Layer2에서 처리한 후, Proof만 Layer1에 기록
- Fraud Proof 없이 바로 최종 확정이 이루어짐

### 2. 장점
- 즉각적인 트랜잭션 확정 -> 챌린지 기간 없음
- 수학적 증명으로 보안성 매우 높음
- 트랜잭션 처리 비용이 매우 저렴

### 3. 단점
- EVM과 완벽하게 호환되지 않음(개발이 복잡)
- zk-SNARK/STARK 생성 비용이 높음
- 개발 및 유지보수가 어렵고, 초기 비용이 큼

### 4. 사용 사례
- zkSync : ZK 방식으로 이더리움 트랜잭션을 저렴하고 빠르게 처리
- StarkNet : SNARK 대신 STARK 방식을 사용하여 더욱 강력한 보안성을 보여장
- Polygon zkEVM : EVM 호환성을 갖춘 zk-Rollup 프로젝트

## 🛠️ 어떤 롤업이 나을까?
### Optimistic Rollup 추천 사항
- EVM과 호환성이 중요할 때
- 빠르게 Layer2 솔루션을 적용하고 싶을 때
- 개발 속도가 중요한 프로젝트

### zk-Rollup 추천 사항
- 최고 수준의 보안성이 필요한 경우
- 대규모 트랜잭션을 빠르고 저렴하게 처리해야 할 때
- 출금 속도와 확정성이 중요한 경우

## 결론
> - Optimistic Rollup은 개발 및 배포가 용이하며 EVM과 호환성이 높다
> - zk-Rollup은 보안성과 효율성에서만 앞서지만 개발 비용이 크다
> - 두 방식은 상황에 따라 병행해서 사용하는 것이 일반적이다 